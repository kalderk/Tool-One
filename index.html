<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Vehicles per Hour Slider</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <style>
        body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial; padding: 24px; max-width: 960px; margin: auto; }
        .row { display:flex; gap:12px; align-items:center; }
        .slider { flex:1; }
        .stat { font-weight:600; min-width:100px; text-align:center; }
        h2 { margin-top: 24px; margin-bottom: 8px; }
        .tables { display:flex; gap:24px; margin-top:16px; flex-wrap:wrap; }
        table { border-collapse:collapse; width:100%; max-width:440px; }
        th, td { border:1px solid #ddd; padding:8px; text-align:right; }
        th:first-child, td:first-child { text-align:left; }
        th { background:#f6f6f6; font-weight:600; }
        caption { caption-side:top; font-weight:700; text-align:left; padding-bottom:8px; }

        /* Header section */
        .tool-header { margin-bottom: 28px; border-bottom: 2px solid #e5e5e5; padding-bottom: 20px; }
        .editable-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: #111;
            border: none;
            outline: none;
            width: 100%;
            background: transparent;
            margin: 0 0 10px 0;
            padding: 4px 6px;
            border-radius: 4px;
            line-height: 1.2;
        }
        .editable-title:hover, .editable-title:focus {
            background: #f0f7ff;
            box-shadow: 0 0 0 2px #b3d4f5;
        }
        .editable-desc {
            font-size: 0.97rem;
            color: #444;
            border: none;
            outline: none;
            width: 100%;
            background: transparent;
            resize: none;
            padding: 4px 6px;
            border-radius: 4px;
            line-height: 1.6;
            font-family: inherit;
            min-height: 60px;
        }
        .editable-desc:hover, .editable-desc:focus {
            background: #f0f7ff;
            box-shadow: 0 0 0 2px #b3d4f5;
        }
        .edit-hint {
            font-size: 0.75rem;
            color: #aaa;
            margin-top: 6px;
            font-style: italic;
        }
    </style>
</head>
<body>


    <div class="tool-header">
        <input
            class="editable-title"
            type="text"
            value="Tool 1 -- Vehicle Emission Calculator"
            placeholder="Enter tool title..."
            aria-label="Tool title"
        />
        <textarea
            class="editable-desc"
            placeholder="Enter a description of what this tool does..."
            aria-label="Tool description"
        >Use the sliders below to set the number of cars and trucks passing through a given area per hour. This tool allows the user to set a number of cars passing by on the highway and see the amount of pollutants that result. The four pollutants tracked are CO, VOCs, NOx, and PM. Users can see the mass produced of each of these pollutants by the cars passing by per hour. The rates at which these pollutants are produced are calculated from the flowchart attached and are in per-mile values (assumed speed of cars is 60 mph). These values can be applied to the mile section of highway that this airshed is looking at along I-75 in Dallas, Texas..</textarea>
        <div class="edit-hint">Click the title or description to edit</div>
    </div>

    <h2>Cars per Hour</h2>
    <div class="row">
        <input id="carRate" class="slider" type="range" min="0" max="1250" value="120" />
        <div id="carRateLabel" class="stat">120 /h</div>
    </div>

    <h2>Trucks per Hour</h2>
    <div class="row">
        <input id="truckRate" class="slider" type="range" min="0" max="250" value="120" />
        <div id="truckRateLabel" class="stat">120 /h</div>
    </div>

    <div class="tables">
        <table id="carPollutants">
            <caption>Car pollutants in Airshed</caption>
            <thead>
                <tr><th>Pollutant</th><th>g/vehicle</th><th>g/hour</th><th>kg/hour</th></tr>
            </thead>
            <tbody>
                <tr data-poll="CO"><td>CO</td><td class="factor">3.13</td><td class="gph">0</td><td class="kgph">0.000</td></tr>
                <tr data-poll="NOx"><td>NOx</td><td class="factor">0.07</td><td class="gph">0</td><td class="kgph">0.000</td></tr>
                <tr data-poll="PM"><td>PM</td><td class="factor">0.00009</td><td class="gph">0</td><td class="kgph">0.000</td></tr>
                <tr data-poll="VOC"><td>VOC</td><td class="factor">0.003</td><td class="gph">0</td><td class="kgph">0.000</td></tr>
            </tbody>
        </table>

        <table id="truckPollutants">
            <caption>Truck pollutants in Airshed</caption>
            <thead>
                <tr><th>Pollutant</th><th>g/vehicle</th><th>g/hour</th><th>kg/hour</th></tr>
            </thead>
            <tbody>
                <tr data-poll="CO"><td>CO</td><td class="factor">41.7</td><td class="gph">0</td><td class="kgph">0.000</td></tr>
                <tr data-poll="NOx"><td>NOx</td><td class="factor">9.33</td><td class="gph">0</td><td class="kgph">0.000</td></tr>
                <tr data-poll="PM"><td>PM</td><td class="factor">0.0012</td><td class="gph">0</td><td class="kgph">0.000</td></tr>
                <tr data-poll="VOC"><td>VOC</td><td class="factor">0.04</td><td class="gph">0</td><td class="kgph">0.000</td></tr>
            </tbody>
        </table>
    </div>

    <script>
        let carsPerHour = Number(document.getElementById('carRate').value);
        let trucksPerHour = Number(document.getElementById('truckRate').value);

        const carRateEl = document.getElementById('carRate');
        const carRateLabel = document.getElementById('carRateLabel');
        const truckRateEl = document.getElementById('truckRate');
        const truckRateLabel = document.getElementById('truckRateLabel');
        const carTable = document.getElementById('carPollutants');
        const truckTable = document.getElementById('truckPollutants');

        // Auto-resize textarea
        const descEl = document.querySelector('.editable-desc');
        descEl.addEventListener('input', () => {
            descEl.style.height = 'auto';
            descEl.style.height = descEl.scrollHeight + 'px';
        });

        function updateTable(tableEl, vehiclesPerHour) {
            tableEl.querySelectorAll('tbody tr').forEach(row => {
                const factor = Number(row.querySelector('.factor').textContent);
                const gph = factor * vehiclesPerHour;
                row.querySelector('.gph').textContent = gph.toFixed(2);
                row.querySelector('.kgph').textContent = (gph / 1000).toFixed(3);
            });
        }

        function onCarInput() {
            carsPerHour = Number(carRateEl.value);
            carRateLabel.textContent = `${carsPerHour} /h`;
            updateTable(carTable, carsPerHour);
        }

        function onTruckInput() {
            trucksPerHour = Number(truckRateEl.value);
            truckRateLabel.textContent = `${trucksPerHour} /h`;
            updateTable(truckTable, trucksPerHour);
        }

        carRateEl.addEventListener('input', onCarInput);
        truckRateEl.addEventListener('input', onTruckInput);

        onCarInput();
        onTruckInput();
    </script>

</body>
</html>
